<% content_for :heading do %>
  Cards
<% end %>

<% content_for :toc do %>
 <a href="#types">Types</a>
 <a href="#variations">Variations</a>
 <a href="#sourcecode">Source code</a>
<% end %>

<section id="types" class="design__section">
  <h2>Types</h2>

  <h3>Card L <span class="label">list</span></h3>

  <%= render partial: "decidim/design/components/cards/static-card-l" %>
  <%= render partial: "decidim/design/components/cards/static-card-l" %>

  <h3>Card G <span class="label">grid</span></h3>

  <div class="card__grid-grid">
    <%= render partial: "decidim/design/components/cards/static-card-g" %>
    <%= render partial: "decidim/design/components/cards/static-card-g" %>
  </div>

  <h3>Card S <span class="label">search</span></h3>

  <%= render partial: "decidim/design/components/cards/static-card-s" %>
  <%= render partial: "decidim/design/components/cards/static-card-s" %>
</section>

<section id="variations" class="design__section">
  <h2>Variations</h2>

  <p>Each card will look like different regarding the properties of the resource displayed. You can override such behaviour in the specific cell.</p>

  <h3>Metadata items</h3>

  <div class="card__grid-grid">
    <%= render partial: "decidim/design/components/cards/static-card-g-metadata" %>
    <%= render partial: "decidim/design/components/cards/static-card-g-metadata-2" %>
  </div>

  <p>Each resource define its own metadata items</p>

  <h3>Highlight</h3>

  <%= render partial: "decidim/design/components/cards/static-card-g-highlight" %>

  <p>Used by resources who allow to highlight</p>

  <h3>Image and description</h3>

  <%= render partial: "decidim/design/components/cards/static-card-l-image" %>

  <p>Used by <i>Blogs</i> cards</p>

  <h3>Description</h3>

  <%= render partial: "decidim/design/components/cards/static-card-l-description" %>

  <p>Used by <i>Debates</i> cards</p>

  <h3>Use different template for the image block</h3>

  <%= render partial: "decidim/design/components/cards/static-card-l-meetings" %>

  <p>Used by <i>Meetings</i> cards</p>

  <h3>Use the extra_data block</h3>

  <%# NOTE: since the cards belogn to a separate module, we need to import its styles %>
  <%= append_stylesheet_pack_tag "decidim_accountability" %>
  <%= render partial: "decidim/design/components/cards/static-card-l-extra-data" %>

  <p>Used by <i>Accountability projects</i> cards</p>

  <%# NOTE: since the cards belogn to a separate module, we need to import its styles %>
  <%= append_stylesheet_pack_tag "decidim_budgets" %>
  <%= render partial: "decidim/design/components/cards/static-card-l-extra-data-2" %>

  <p>Used by <i>Budget projects</i> cards</p>
</section>

<section id="sourcecode" class="design__section">
  <h2>Source code</h2>

  <table class="design__table">
    <thead>
      <th>Card</th>
      <th>Code</th>
      <th>Usage</th>
    </thead>
    <tbody>
      <%
        rows = []
        rows << { name: "Card L (core)", url: "https://github.com/decidim/decidim/tree/develop/decidim-core/app/cells/decidim/card_l_cell.rb", usage: "--" }
        rows << { name: "Card G (core)", url: "https://github.com/decidim/decidim/tree/develop/decidim-core/app/cells/decidim/card_g_cell.rb", usage: "--" }
        rows << { name: "Card S (core)", url: "https://github.com/decidim/decidim/tree/develop/decidim-core/app/cells/decidim/card_s_cell.rb", usage: "--" }
        rows << { name: "Result L", url: "https://github.com/decidim/decidim/blob/develop/decidim-accountability/app/cells/decidim/accountability/result_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-accountability/app/cells/decidim/accountability/results/show.erb#L3" }
        rows << { name: "Post L", url: "https://github.com/decidim/decidim/blob/develop/decidim-blogs/app/cells/decidim/blogs/post_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-blogs/app/views/decidim/blogs/posts/index.html.erb#L16" }
        rows << { name: "Project L", url: "https://github.com/decidim/decidim/blob/develop/decidim-budgets/app/cells/decidim/budgets/project_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-budgets/app/views/decidim/budgets/projects/_project.html.erb#L2" }
        rows << { name: "Debate L", url: "https://github.com/decidim/decidim/blob/develop/decidim-debates/app/cells/decidim/debates/debate_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-debates/app/views/decidim/debates/debates/_debates.html.erb#L6" }
        rows << { name: "Meeting L", url: "https://github.com/decidim/decidim/blob/develop/decidim-meetings/app/cells/decidim/meetings/meeting_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-meetings/app/views/decidim/meetings/shared/_meetings.html.erb#L20" }
        rows << { name: "Collaborative Draft L", url: "https://github.com/decidim/decidim/blob/develop/decidim-proposals/app/cells/decidim/proposals/collaborative_draft_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-proposals/app/views/decidim/proposals/collaborative_drafts/_collaborative_drafts.html.erb#L10" }
        rows << { name: "Proposal L", url: "https://github.com/decidim/decidim/blob/develop/decidim-proposals/app/cells/decidim/proposals/proposal_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-proposals/app/views/decidim/proposals/proposals/_proposals.html.erb#L15" }
        rows << { name: "Sortition L", url: "https://github.com/decidim/decidim/blob/develop/decidim-sortitions/app/cells/decidim/sortitions/sortition_l_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-sortitions/app/views/decidim/sortitions/sortitions/_sortitions.html.erb#L6" }
        rows << { name: "Assembly G", url: "https://github.com/decidim/decidim/blob/develop/decidim-assemblies/app/cells/decidim/assemblies/assembly_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-assemblies/app/views/decidim/assemblies/assemblies/_collection.html.erb#L4" }
        rows << { name: "Post G", url: "https://github.com/decidim/decidim/blob/develop/decidim-blogs/app/cells/decidim/blogs/post_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-blogs/app/cells/decidim/blogs/content_blocks/highlighted_posts/content.erb#L15" }
        rows << { name: "Conference G", url: "https://github.com/decidim/decidim/blob/develop/decidim-conferences/app/cells/decidim/conferences/conference_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-conferences/app/views/decidim/conferences/conferences/index.html.erb#L30" }
        rows << { name: "Election G", url: "https://github.com/decidim/decidim/blob/develop/decidim-elections/app/cells/decidim/elections/election_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-elections/app/views/decidim/elections/elections/_elections.html.erb#L13" }
        rows << { name: "Voting G", url: "https://github.com/decidim/decidim/blob/develop/decidim-elections/app/cells/decidim/votings/voting_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-elections/app/views/decidim/votings/votings/_votings.html.erb#L14" }
        rows << { name: "Initiative G", url: "https://github.com/decidim/decidim/blob/develop/decidim-initiatives/app/cells/decidim/initiatives/initiative_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-initiatives/app/views/decidim/initiatives/initiatives/_initiatives.html.erb#L12" }
        rows << { name: "Process G", url: "https://github.com/decidim/decidim/blob/develop/decidim-participatory_processes/app/cells/decidim/participatory_processes/process_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-participatory_processes/app/views/decidim/participatory_processes/participatory_processes/_collection.html.erb#L5" }
        rows << { name: "Process Group G", url: "https://github.com/decidim/decidim/blob/develop/decidim-participatory_processes/app/cells/decidim/participatory_processes/process_group_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-participatory_processes/app/views/decidim/participatory_process_groups/_participatory_process_group.html.erb#L1" }
        rows << { name: "Proposal G", url: "https://github.com/decidim/decidim/blob/develop/decidim-proposals/app/cells/decidim/proposals/proposal_g_cell.rb", usage: "https://github.com/decidim/decidim/blob/develop/decidim-proposals/app/views/decidim/proposals/proposals/_proposals.html.erb#L15" }

        rows.each do |row|
      %>
        <tr>
          <td><%= row[:name] %></td>
          <td>
            <a href="<%= row[:url] %>" target="_blank" class="text-secondary underline"><%= row[:url].split("/").last %></a>
          </td>
          <td>
            <% if row[:usage].to_s.start_with?("http") %>
              <a href="<%= row[:usage] %>" target="_blank" class="text-secondary underline"><%= (row[:usage] || "").split("/").last %></a>
            <% else %>
              <%= row[:usage] %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</section>
